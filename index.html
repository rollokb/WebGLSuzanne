<html>

<head>
<title>Learning WebGL</title>
<style type="text/css">
* {
    border: 0;
    margin: 0;
    padding: 0;
}
</style>
<script type="text/javascript" src="js/glMatrix-0.9.5.min.js"></script>
<script type="text/javascript" src="js/webgl-utils.js"></script>
<script type="text/javascript" src="js/webGL.js"></script>
<script type="text/javascript" src="js/webgl-obj-loader.js"></script>
<script id="VertexShader" type="x-shader/x-vertex">
   
    attribute highp vec3 VertexPosition;
    attribute highp vec2 TextureCoord;
    attribute highp vec3 VertexNormal;
     
    uniform highp mat4 TransformationMatrix;
    uniform highp mat4 PerspectiveMatrix;
    uniform mat3 NormalMatrix;
     
    varying highp vec2 vTextureCoord;
    varying highp vec3 vLightWeighting;
     
    void main(void) {
        gl_Position = PerspectiveMatrix * TransformationMatrix * vec4(VertexPosition, 1.0);
        vTextureCoord = TextureCoord;



        vec3 transformedNormal = NormalMatrix * VertexNormal;

        float directionalLightWeighting = max(dot(transformedNormal, vec3(1.0,-1.0,1.0)), 0.0);

        vLightWeighting = directionalLightWeighting * vec3(1.0,1.0,1.0) ;

    }
</script>
 
<script id="FragmentShader" type="x-shader/x-fragment"> 
    varying highp vec2 vTextureCoord;
    varying highp vec3 vLightWeighting;
   
    uniform sampler2D uSampler;
    
    void main(void) {
        highp vec4 texelColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
        gl_FragColor =vec4(texelColor.rgb*vLightWeighting, 1.0);
    }     
</script>

</head>
<body>
    <canvas id="GLCanvas" style="border: none;" width="500" height="500"></canvas>

</body>

</html>
